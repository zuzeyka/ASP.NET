@{
    ViewData["Title"] = "Middleware";
}
<div class="text-center">
    <h1 class="display-4">@ViewData["Title"]</h1>
</div>
<p>
    Сесії дозволяють зберігати дані, але для їх відновлення необхідні впровадити
    коди. Якщо відомості із сесії потрібні у різних місцях сайту, то коди мають
    повторюватись у різних контролерах/методах/представленнях
</p>
<p>
    Middleware - частина активності, яка виконується на перших етапах оброблення
    запиту, до тогу, як буде зроблено розподіл за контролерами-методами-....
    Middleware працює за принципом ланцюга, передаючи управління активністю
    між його ланцюгами (об'єктами). Реєстрація порядку роботи об'єктів здійснюється у
    Program.cs
</p>
<p>
    Концепія Middleware дозволяє вбудувати власні об'єктм у ланцюг викликів,
    об'єктів може бути довільна кіл-ть, відповідно у проєкті додається папка
    Middleware. Щодо особливостей класів-Middleware див. приклад у коді.
</p>
<p>
    Запит проходить веб-сервер, до ASP надходить HttpContext{Request,Response}
    Як він далі проходить обробку?
    Спочатку він проходить усі Middleware один за одним у порядку їх створення
    у Program.cs<br />                             <br />
    Приклад проходження запиту в умовній системі з Middleware<br />
    Request                                        <br />
    [Middleware]                                   <br />
    - [кодування -> UTF-8]                         <br />
    - [підключити БД]                              <br />
    - [перевірити автентифікацію]                  <br />
    - [встановити мову, завантажити мовні літерали]<br />
    [Routing]                                      <br />
    - Визначається контроллер                      <br />
    - Визначається метод                           <br />
    - Передається керування методу - у довільному методі є
        дані з автентифікації, з обраної мови      <br />
    [View]                                         <br />
    - Визначається представлення                   <br />
    - Передається керування Razor                  <br />
</p>